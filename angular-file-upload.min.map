{"version":3,"file":"angular-file-upload.min.js","sources":["angular-file-upload.js"],"names":["angular","factory","define","amd","app","module","directive","$fileUploader","$timeout","dragdropCollection","$","link","isHTML5","scope","element","attributes","bind","event","dataTransfer","originalEvent","preventDefault","stopPropagation","$broadcast","$emit","files","$eval","ngFileDrop","size","dropEffect","add","target","not","noop","$on","addClass","ngFileOver","removeClass","removeAttr","data","this","options","ngFileSelect","attr","prop","$compile","$rootScope","$http","$window","Uploader","params","extend","url","alias","queue","headers","progress","autoUpload","removeAfterUpload","method","filters","formData","isUploading","queueLimit","Number","MAX_VALUE","withCredentials","_nextIndex","_timestamp","Date","now","unshift","_queueLimitFilter","_emptyFileFilter","items","addToQueue","Item","prototype","_beforeupload","_progress","_success","_cancel","_error","_complete","input","file","clone","uploader","value","val","lastModifiedDate","type","slice","lastIndexOf","toLowerCase","name","_input","css","after","isReady","isUploaded","isSuccess","isCancel","isError","index","constructor","item","isElement","length","handler","trigger","arguments","apply","File","FormData","list","forEach","isValid","every","filter","call","copy","push","_getTotalProgress","_render","uploadAll","removeFromQueue","getIndexOfItem","cancel","_destroy","splice","clearQueue","remove","uploadItem","transport","cancelItem","abort","getNotUploadedItems","cancelAll","isNumber","indexOf","getReadyItems","sort","item1","item2","$$phase","$digest","notUploaded","uploaded","ratio","current","Math","round","result","isDefined","_xhrTransport","xhr","_xhr","XMLHttpRequest","form","that","obj","key","append","upload","onprogress","lengthComputable","loaded","total","onload","response","_transformResponse","_isSuccessCode","status","onerror","onabort","open","setRequestHeader","send","_iframeTransport","iframe","_form","replaceWith","action","enctype","encoding","html","contentDocument","body","innerHTML","dummy","unbind","submit","defaults","transformResponse","transformFn","create"],"mappings":"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"}